# Name overrides for resource naming flexibility
nameOverride: ""
fullnameOverride: ""

# Image configuration including private registry support
image:
  repository: "ttl.sh/honeybeepf-prod"
  tag: "24h"
  pullPolicy: Always
imagePullSecrets: [] # List for private registry credentials

# Annotations for the pod
podAnnotations: {}
  # testAnnotation: "testValue"

# Metrics exposure configuration
# NOTE: HoneybeePF uses OTLP to send metrics to OTel Collector.
# Prometheus scrapes the OTel Collector's prometheus exporter (port 8889), 
# NOT the agent directly. This service is disabled by default.
metrics:
  enabled: false  # Agent doesn't expose /metrics directly
  port: 9464
  path: "/metrics"
  service:
    enabled: false  # Disabled - metrics go through OTel Collector
    type: ClusterIP
    annotations:
      prometheus.io/scrape: "false"
      prometheus.io/port: "9464"
      prometheus.io/path: "/metrics"
    labels: {}
  # If want to use ServiceMonitor you must enable ServiceMonitor
  serviceMonitor:
    enabled: false
    interval: 30s
    scrapeTimeout: 10s
    # Required for Prometheus Operator to recognize ServiceMonitor
    labels:
      release: prometheus-operator
    namespace: ""
    # Preserve labels sent from the application (prevents overwriting)
    honorLabels: true


# Data Output
output:
  # if you want to send data to OpenTelemetry Collector from your application set this values.
  # Recommended FQDN format: <service>.<namespace>.svc.cluster.local:<port>
  otlp:
    endpoint: "honeybeepf-otel-collector-opentelemetry-collector.monitoring.svc.cluster.local:4317"
    protocol: "grpc"


# Service Account for RBAC permissions
serviceAccount:
  create: true
  annotations: {}
  name: ""

# Rust Log Level (trace, debug, info, warn, error)
rustLog: "info"

# Hybrid Probe Configuration
builtinProbes:
  block_io:
    enabled: true
  network_latency:
    enabled: false
  gpu_open:
    enabled: true
  interval: 1000

customProbes:
  kprobes: []
  uprobes: []
  tracepoints: []

# Security Context: Hardened for production
securityContext:
  privileged: true
  readOnlyRootFilesystem: true # Added for enhanced security posture
  capabilities:
    drop:
      - ALL
    add:
      - SYS_ADMIN
      - BPF
      - NET_ADMIN
      - SYS_RESOURCE

# Resource limits with robust parsing (quotes)
resources:
  limits:
    cpu: "200m"
    memory: "256Mi"
  requests:
    cpu: "100m"
    memory: "128Mi"

# Scheduling
nodeSelector:
  kubernetes.io/os: linux